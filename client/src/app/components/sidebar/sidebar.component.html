<aside class="group-container">
    <div class="my-3 text-3xl text-center font-bold">Groups</div>
    <button *ngIf="!editingMode" class="group-button" (click)="toggleEditingMode()">Add a new Group</button>
    <div *ngIf="editingMode" class="group-input">
        <input type="text" [(ngModel)]="newGroupName" placeholder="Enter group name">

        <!-- CONFIRM BUTTON -->
        <button (click)="confirmGroup()" class="confirm-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>

        <!-- CANCEL BUTTON -->
        <button (click)="cancelGroup()" class="cancel-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>
    </div>
    <ul *ngIf="checkGroups(( groups$ | async ))" class="flex flex-col h-max w-full">
        <button class="my-2 text-left" (click)="changeGroup('')">All Variables</button>
        <button *ngFor="let item of groups$ | async | keyvalue" id="{{ item.key }}" class="my-2 text-left"
            [ngClass]="{ 'selected' : (selectedGroup$ | async) === getID(item.value), 'changed ': (recentlyChanged$ | async) === getID(item.value) }"
            (click)="changeGroup(item.value)">
            {{ getLabel(item.value) }}
        </button>
    </ul>
</aside>
