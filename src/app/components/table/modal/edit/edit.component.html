<form [formGroup]="variableForm" class="flex flex-col w-full">
  <label class="form-label">
    Label
    <input
      type="text"
      formControlName="label"
      id="labl"
      name="label"
      class="form-input"
    />
  </label>
  <label class="form-label">
    Literal Question
    <input
      type="text"
      formControlName="literalQuestion"
      id="qstLit"
      name="qstLit"
      class="form-input"
    />
  </label>
  <label class="form-label">
    Interviewer Instructions
    <input
      type="text"
      formControlName="interviewQuestion"
      id="ivuInstr"
      name="ivuInstr"
      class="form-input"
    />
  </label>
  <label class="form-label">
    Post Question
    <input
      type="text"
      formControlName="postQuestion"
      id="postQTxt"
      name="postQTxt"
      class="form-input"
    />
  </label>
  <label class="form-label">
    Universe
    <input
      type="text"
      formControlName="universe"
      id="universe"
      name="universe"
      class="form-input"
    />
  </label>
  <label class="form-label">
    Notes
    <textarea
      formControlName="notes"
      id="notes"
      name="notes"
      rows="4"
      cols="50"
      class="form-input"
    >
    </textarea>
  </label>
  <label for="multiselect" class="form-label"
    >Group(s)
    <dct-multiselect-dropdown
      id="multiselect"
      class="group-dropdown"
      [selectedVariableGroups]="groups || []"
      (emitSelectedGroups)="onGroupChange($event)"
      position="bottom"
    ></dct-multiselect-dropdown>
  </label>
  <div class="flex flex-row justify-between mt-5 pr-5">
    <label class="form-label sr-only" for="weightVar">Weight Variable</label>
    <select id="weightVar" class="weight-dropdown" formControlName="weight">
      <option value="">No Weight Assigned</option>
      @for (weightValue of ( weights | keyvalue); track $index) {
      <option [value]="weightValue.key">
        {{ weightValue.value }}
      </option>
      }
    </select>
    <label
      for="isWeight"
      class="flex flex-row items-center dark:text-dark-inverse-surface"
    >
      <input
        type="checkbox"
        name="isWeight"
        id="isWeight"
        formControlName="isWeight"
        class="mx-2"
      />Is Weight
    </label>
  </div>
</form>
<button class="button update-button" (click)="handleSave()">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
    />
  </svg>
  <span class="button-label">Update Variable</span>
</button>
