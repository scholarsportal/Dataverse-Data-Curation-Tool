<div
  tabindex="0"
  role="button"
  class="btn btn-outline justify-start w-full pr-0 overflow-hidden"
  (click)="toggleDialog()"
>
  <div class="flex flex-row">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="w-5 h-5 self-center mr-2"
    >
      <path
        fill-rule="evenodd"
        d="M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z"
        clip-rule="evenodd"
      />
    </svg>
    @if ($currentSelection().length) {
      <ul
        class="flex flex-row overflow-y-hidden static overflow-x-auto self-center"
      >
        @for (value of $currentSelection(); track $index) {
          <li id="$index" class="flex-none input-chip self-center">
            {{ value }}
          </li>
        }
      </ul>
    } @else {
      <span class="self-center button-label pr-5">ADD TO GROUP</span>
    }
  </div>
</div>
<ul
  tabindex="0"
  class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded w-full"
>
  @for (variableGroup of $allValuesInDropdown() | keyvalue; track $index) {
    <li>
      <label class="pb-3" for="{{ getVariableID(variableGroup.value) }}">
        <input
          type="checkbox"
          id="{{ getVariableID(variableGroup.value) }}"
          name="{{ getVariableID(variableGroup.value) }}"
          [checked]="checkSelected(variableGroup.value)"
          (change)="changeSelected(variableGroup.value)"
        />
        {{ getVariableLabel(variableGroup.value) }}
      </label>
    </li>
  }
</ul>
